{% sw_extends '@Storefront/storefront/component/checkout/offcanvas-item.html.twig' %}

{% block component_offcanvas_product_total_price %}
    {% set hidePricesConfig = config('ASHideProductPrices') %}
    {% set showPrices = false %}
    {% set break = false %}
    {% for customerGroupID in hidePricesConfig.config.allowedCustomerGroups %}
        {% if not break %}
            {% if (customerGroupID == context.currentCustomerGroup.id) %}
                {% set showPrices = true %}
                {% set break = true %}
            {% endif %}
        {% endif %}
    {% endfor %}

    {% if hidePricesConfig.config.active %}
        {% if showPrices %}
            {{ parent() }}
        {% endif %}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}
